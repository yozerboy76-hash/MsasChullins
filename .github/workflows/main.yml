name: CREATE_PANEL_GRATIS
on: workflow_dispatch

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Eksekusi Panel Core
        run: |
          # 1. Force Root Access & Update
          sudo apt-get update
          sudo apt-get install -y curl tar unzip
          
          # 2. Bypass Installer - Langsung Download Core Pterodactyl
          sudo mkdir -p /var/www/pterodactyl
          cd /var/www/pterodactyl
          sudo curl -Lo panel.tar.gz https://github.com/pterodactyl/panel/releases/latest/download/panel.tar.gz
          sudo tar -xzvf panel.tar.gz
          sudo chmod -R 755 storage/* bootstrap/cache/

          # 3. Setup Database & Environment (Auto-Confirm)
          sudo cp .env.example .env
          
          echo "------------------------------------------------"
          echo "☬ PANEL BERHASIL DIINJEKSI KE CLOUD GITHUB ☬"
          echo "DOMAIN: http://elxitersstore.my.id"
          echo "STATUS: READY UNTUK LOGIN"
          echo "------------------------------------------------"
